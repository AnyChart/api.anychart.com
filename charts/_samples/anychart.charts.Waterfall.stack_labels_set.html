<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="ac:name" content="anychart.charts.Waterfall.stack_labels set"/>
    <meta name="ac:short-desc" content=""/>
    <meta name="ac:desc" content=""/>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-waterfall.min.js"></script>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/{{branch-name}}/js/anychart-ui.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.anychart.com/releases/{{branch-name}}/css/anychart-ui.min.css"/>
    <style>
        html, body, #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="container"></div>
<script>
    anychart.onDocumentReady(function () {
        var data = anychart.data.set([
            ["Start", 23, 30, 21],
            ["Jan", 22, 22, 54],
            ["Feb", -46, 45, -32],
            ["Mar", -91, -30, -28],
            ["Subtotal", { isTotal: true }, { isTotal: true }, { isTotal: true }],
            ["Apr", 37, -27, 36],
            ["May", -24, 62, -48],
            ["Jun", 30, 40, -29],
            ["Jul", 31, 33, 41],
            ["Aug", -25, -46, 36],
            ["Sep", 42, 23, 22],
            ["Oct", 67, -44, -40],
            ["Nov", -24, -31, 37],
            ["Dec", 51, 28, 25],
            ["End", { isTotal: true }, { isTotal: true }, { isTotal: true }],
        ]);

        // map the data
        var seriesData_1 = data.mapAs({ x: 0, value: 1 });
        var seriesData_2 = data.mapAs({ x: 0, value: 2 });
        var seriesData_3 = data.mapAs({ x: 0, value: 3 });

        // create a waterfall chart
        var chart = anychart.waterfall();

        chart.title("Waterfall: enable stack labels");

        chart.waterfall(seriesData_1);
        chart.waterfall(seriesData_2);
        chart.waterfall(seriesData_3);

        chart.labels().position("center");
        chart.labels().fontColor("white");

        // Configure stack labels.
        chart.stackLabels().enabled(true);
        chart.stackLabels().format('Total: {%total}\nStack: {%stack}');

        chart.container("container").draw();
    });
</script>
</body>
</html>
