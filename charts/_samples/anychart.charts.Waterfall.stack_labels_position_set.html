<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="ac:name" content="anychart.charts.Waterfall.stack_labels_position set"/>
    <meta name="ac:short-desc" content=""/>
    <meta name="ac:desc" content=""/>
    <script src="https://cdn.anychart.com/releases/8.11.1/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.11.1/js/anychart-waterfall.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.11.1/js/anychart-exports.min.js"></script>
    <script src="https://cdn.anychart.com/releases/8.11.1/js/anychart-ui.min.js"></script>
    <link rel="stylesheet" type="text/css"
          href="https://cdn.anychart.com/releases/8.11.1/css/anychart-ui.min.css"/>
    <style>
        html, body, #container {
            width: 100%;
            height: 90%;
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div>
    <button onclick="enableStackLabels(this)">Enable stack labels</button>
    <hr>
    <button onclick="isVertical(this)">Is vertical</button>
    <hr>
    <div>
        <table>
            <caption>Stack label position</caption>
            <tr>
                <td colspan=3>
                    <button onclick="setAnchor(this)" style="width:100%">auto</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button onclick="setAnchor(this)">left-top</button>
                </td>
                <td>
                    <button onclick="setAnchor(this)">center-top</button>
                </td>
                <td>
                    <button onclick="setAnchor(this)">right-top</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button onclick="setAnchor(this)">left-center</button>
                </td>
                <td>
                    <button onclick="setAnchor(this)">center</button>
                </td>
                <td>
                    <button onclick="setAnchor(this)">right-center</button>
                </td>
            </tr>
            <tr>
                <td>
                    <button onclick="setAnchor(this)">left-bottom</button>
                </td>
                <td>
                    <button onclick="setAnchor(this)">center-bottom</button>
                </td>
                <td>
                    <button onclick="setAnchor(this)">right-bottom</button>
                </td>
            </tr>
        </table>
    </div>
    <hr>
    <div id="container"></div>
</div>
<script>
    var chart;
    anychart.onDocumentReady(function () {
        chart = anychart.waterfall();

        var data = anychart.data.set([
            ["Start", 23, 30, 21],
            ["Jan", 22, 22, 54],
            ["Feb", -46, 45, -32],
            ["Mar", -91, -30, -28],
            ["Apr", 37, -27, 36],
            ["May", -24, 62, -48],
            ["Jun", 15, 40, -29],

            ["Aug", -25, -46, 36],
            ["Sep", 42, 23, 22],
            ["Oct", 67, -44, -40],
            ["Nov", -24, -31, 37],
            ["Dec", 51, 28, 25],
            ["End", { isTotal: true }, { isTotal: true }, { isTotal: true }],

        ]);

        var seriesData_1 = data.mapAs({x: 0, value: 1});
        var seriesData_2 = data.mapAs({x: 0, value: 2});
        var seriesData_3 = data.mapAs({x: 0, value: 3});

        chart.labels().enabled(false);

        chart.waterfall(seriesData_1);
        chart.waterfall(seriesData_2);
        chart.waterfall(seriesData_3);

        chart.container("container").draw();
    });

    function enableStackLabels(button) {
        button.innerText = !chart.stackLabels().enabled() ?
            'Disable stack labels' : 'Enable stack labels';

        chart.stackLabels().enabled(!chart.stackLabels().enabled());
    }

    function setAnchor(button) {
        var position = button.innerText;

        chart.stackLabels().position(position);
    }

    function isVertical(button) {
        button.innerText = !chart.isVertical() ? 'Is horizontal' : 'Is vertical';
        chart.isVertical(!chart.isVertical());
    }
</script>
</body>
</html>